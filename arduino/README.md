Arduino
=======

All code that might run on an Arduino *(Mega2560)*.

`mpu_*.cpp`
---------

These programs use `matplotlib` for visualisation (at best). Use is discouraged.

`ppm_*`
-----
Decode the PPM signal that is generated by the on-board reciever. 6 channel information.

`my*`
---

Custom Libraries used by `saber*.cpp`.
`mytimer`
> Provides an interface to set up a `timer` interrupt. Which timer to use is decided by a Marcro Definition in `mytimer.h`.
Currently, it is used to make the MPU-poll interrupt. Thus the time-period range is hardcoded to `4us : 262us`.

`mympu`
> Provides a powerful (low-level) interface to MPU6050 using I2CDevLib. Use this if you don't need to utilise the onboard DMP to generate attitude quaternion.

`mydmp`
> Provides a friendly (high-level) interface to MPU6050 and the onboard DMP. Use this if you need attitude quaternion.

\*magnet\*
---------

Don't work.

Motors and ESC
==============

ESCs were configured on        30/12/15.
> {Programmed to `DEFAULT`}

Range setting was last done on 30/12/15.
> {620 - 1040 - 1050 - *}

See @arrow- 's [post](http://www.rcgroups.com/forums/showpost.php?p=33579712&postcount=9) to know what "620" implies.

| *Item*             |   *Setting*   |                                Meaning                           |
| ------------------ | ------------- |                                -------                           |
| Brakes             | Disabled      | Motor comes to stop naturally, (bad for glider planes)           |
| Cut-Off            | Soft          | Power down if LIPO batt <= CT-Threshold, but gradually (softly). |
| Cut-Off Threshold  | Medium        | 3.15*3 = 9.45V                                                   |
| Start Mode         | Normal        | Takes 300ms to go from zero -> full throttle                     |
| Timing             | Low           | Don't change this.                                               |
| Range              | 1050 - >1950? | motor stops at 1040, spins from 1050 onwards                     |

See the [`ESC_Manual.pdf`](http://www.hobbywing.com/uploadfiles/sx/file/Manual/HW-01-V4.pdf) to find out how ESC programming is done for our **FlyFun 30A** ESCs.

Servo.h utilises timers {5, 1, 3, 4} (in that order of necessity) on an Arduino Mega2560
In this project we will never require 12 servo objects and hence **only timer5 will be used**.

Manual Control
--------------

Use `low_motor.py` with `esc_control/manual_motors.ino`. Very rudimentary setup that should be enough for the maiden flight and lift-off.
Tested with XBee in Wireless mode successfully.